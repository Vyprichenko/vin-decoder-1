(this["webpackJsonpvin-decoder"]=this["webpackJsonpvin-decoder"]||[]).push([[0],{20:function(e,t,a){e.exports={title:"home_title__1Qtpw",searchBar:"home_searchBar__3zqNe",currentVin:"home_currentVin__-qB3_",searchNotFind:"home_searchNotFind__Q8mSb",serverError:"home_serverError__2Em27"}},25:function(e,t,a){e.exports={input:"input_input__LBr-r",invalid:"input_invalid__137A2",errorMessage:"input_errorMessage__2I-2P"}},26:function(e,t,a){e.exports={form:"search-bar_form__223Nv",rootInput:"search-bar_rootInput__uXVAv",input:"search-bar_input__3iuLp"}},30:function(e,t,a){e.exports={layout:"layout_layout__3j9jk",main:"layout_main__2oCrp"}},31:function(e,t,a){e.exports={Loader:"loader_Loader__36l00","lds-ripple":"loader_lds-ripple__2n71Z",center:"loader_center__3R44Z"}},47:function(e,t,a){e.exports={primary:"button_primary__2P7N9"}},49:function(e,t,a){e.exports=a(79)},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),i=a.n(c),l=a(24),o=a(8),s=a(45),u=a(14),m=a(6),d={currentVin:null,cache:[],loading:!1,serverError:null,searchNotFind:null};var v=Object(o.c)({vinsSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SEARCH_VIN_START":return Object(m.a)({},e,{loading:!0});case"NOT_FIND_INFORMATION":return Object(m.a)({},e,{currentVin:null,loading:!1,searchNotFind:'Sorry, we could not find information for this "'.concat(t.code,'" code.'),serverError:null});case"WRITE_TO_CACHE":return Object(m.a)({},e,{cache:[t.vin].concat(Object(u.a)(Object(u.a)(e.cache).slice(0,4)))});case"SERVER_ERROR":return Object(m.a)({},e,{loading:!1,serverError:t.payload});case"UPDATE_VIN":return Object(m.a)({},e,{currentVin:t.currentVin,loading:!1,searchNotFind:null,serverError:null});case"SET_VIN":return Object(m.a)({},e,{searchNotFind:null,currentVin:t.currentVin,serverError:null});default:return e}}}),h="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.d,p=Object(o.e)(v,h(Object(o.a)(s.a))),E=a(12),f=a(11),b=a(29),_=a.n(b),g=a(46),N=a.n(g).a.create({baseURL:"https://vpic.nhtsa.dot.gov/api/"}),O={},V=function(e){return{status:e.status,message:e.data.Message,results:y(e.data.Results)}},y=function(e){return Object(u.a)(e).filter((function(e){return""!==e.Value&&""!==e.Description&&null!==e.Value&&null!==e.Description}))};O.getVehicleVariableList=function(){return N.get("vehicles/getvehiclevariablelist?format=json").then((function(e){return V(e)})).catch((function(e){return e}))},O.getDecodeVin=function(e){return N.get("vehicles/decodevin/".concat(e,"?format=json")).then((function(e){return V(e)})).catch((function(e){return e}))},O.getVariableVin=function(e){return O.getVehicleVariableList().then((function(t){return t.results.find((function(t){return t.ID===+e}))})).catch((function(e){return e}))};var S=O;function j(e){return function(t,a){var n=a().vinsSearch,r=function(e,t){return t.cache[0]&&t.cache.find((function(t){return e===t.name}))}(e,n);if(r)return t(C(r)),void t(T(r));t(function(e){return function(t){var a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"FETCH_SEARCH_VIN_START"}),r.prev=1,r.next=4,_.a.awrap(S.getDecodeVin(e));case 4:if(!(a=r.sent)||200!==a.status||!a.results){r.next=13;break}if(!a.results.find((function(e){return"Error Code"===e.Variable&&"0"!==e.Value.charAt(0)}))){r.next=8;break}return r.abrupt("return",t(D(e)));case 8:n=Object(m.a)({name:e},a),t(C(n)),t(I(n)),r.next=14;break;case 13:throw new Error("Sorry. There was some mistake on the server.");case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(1),t({type:"SERVER_ERROR",payload:r.t0.message});case 19:case"end":return r.stop()}}),null,null,[[1,16]])}}(e))}}function C(e){return{type:"WRITE_TO_CACHE",vin:e}}function I(e){return{type:"UPDATE_VIN",currentVin:e}}function D(e){return{type:"NOT_FIND_INFORMATION",code:e}}function T(e){return{type:"SET_VIN",currentVin:e}}var k=a(15),x=a(16),R=a(18),F=a(17),w=a(19),L=a(13),A=a.n(L),M=function(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),a},P=a(25),H=a.n(P),B=function(e){var t=e.valid,a=e.shouldValidate;return!t&&a},U=function(e){var t=[];return B(e)&&t.push(H.a.invalid),r.a.createElement("div",{className:A()(e.classes.root)},r.a.createElement("input",{className:A()(t,H.a.input,e.classes.input),type:e.type,value:e.value,onChange:e.onChange,maxLength:e.maxlength,placeholder:e.placeholder}),B(e)&&r.a.createElement("span",{className:H.a.errorMessage},e.errorMessage))};U.defaultProps={type:"text",errorMessage:"Please enter the correct value",maxlength:"",placeholder:""};var X=U,q=a(47),J=a.n(q),Q=function(e){var t=[J.a[e.type]];return r.a.createElement("button",{onClick:e.onClick,className:A()(t,e.classes),disabled:e.isDisabled},e.children)};Q.defaultProps={type:"primary",isDisabled:!1,onClick:function(){}};var W=Q,Z=a(26),z=a.n(Z),G=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(R.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={input:{value:"",errorMessage:"Please enter a number of 17 characters",valid:!0,validation:{required:!0,minLength:17}}},a.onChange=function(e){var t=Object(m.a)({},a.state.input);t.value=e.target.value,t.valid=!0,a.setState({input:t})},a.onSubmit=function(e){e.preventDefault();var t=Object(m.a)({},a.state.input);M(t.value,t.validation)?(t.valid=!0,a.setState({input:t}),a.props.onSubmit(e,a.state.input.value)):(t.valid=!1,a.setState({input:t}))},a}return Object(w.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isDisabled,a=e.classes,n=this.state.input;return r.a.createElement("form",{className:A.a.apply(void 0,Object(u.a)(a).concat([z.a.form])),onSubmit:this.onSubmit},r.a.createElement(X,{value:n.value,valid:n.valid,shouldValidate:!!n.validation,errorMessage:n.errorMessage,onChange:this.onChange,classes:{root:z.a.rootInput,input:z.a.input},placeholder:"vin number",maxlength:String(n.validation.minLength)}),r.a.createElement(W,{disabled:t},t?"Decoding...":"Decode"))}}]),t}(n.Component);G.defaultProps={classes:[],onSubmit:function(){}};var K=G,Y=function(e){var t=e.list;return r.a.createElement(r.a.Fragment,null,t&&0!==t.length&&r.a.createElement("table",{className:"table-striped"},r.a.createElement("tbody",null,t.filter((function(e){return"Error Code"!==e.Variable})).map((function(e){return r.a.createElement("tr",{key:e.VariableId},r.a.createElement("td",null,e.Variable),r.a.createElement("td",null,e.Value))})))))};Y.defaultProps={list:[]};var $=Y,ee=function(e){var t=e.vins,a=e.onClick;return r.a.createElement(r.a.Fragment,null,0!==t.length&&r.a.createElement("div",{className:"last-vins"},r.a.createElement("h4",{className:"last-vins-title"},"Last vins:"),r.a.createElement("ul",{className:"flex-box"},t.map((function(e,n){return r.a.createElement("li",{key:n,className:"flex-item-btn",onClick:function(){return a(t[n])}},e.name)})))))};ee.defaultProps={cache:[],onClick:function(){}};var te=ee,ae=a(20),ne=a.n(ae);var re=Object(l.b)((function(e){return{setVin:e.vinsSearch.setVin,currentVin:e.vinsSearch.currentVin,loading:e.vinsSearch.loading,cache:e.vinsSearch.cache,serverError:e.vinsSearch.serverError,searchNotFind:e.vinsSearch.searchNotFind}}),(function(e){return{onSubmit:function(t,a){return e(j(a))},setVin:function(t){return e(T(t))}}}))((function(e){var t=e.onSubmit,a=e.setVin,n=e.currentVin,c=e.loading,i=e.cache,l=e.serverError,o=e.searchNotFind;return r.a.createElement("div",null,r.a.createElement("h1",{className:ne.a.title},"VIN Decoder"),r.a.createElement(K,{onSubmit:t,isDisabled:c,classes:[ne.a.searchBar]}),r.a.createElement(te,{vins:i,onClick:a}),r.a.createElement(r.a.Fragment,null,l?r.a.createElement("div",{className:ne.a.serverError},l):r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:ne.a.currentVin},"Current VIN: ",n.name),r.a.createElement("div",{className:"note"},n.message)),o?r.a.createElement("div",{className:ne.a.searchNotFind},o):r.a.createElement($,{list:n&&n.results}))))})),ce=a(30),ie=a.n(ce),le=function(e){return r.a.createElement("div",{className:ie.a.layout},r.a.createElement("div",{className:"container"},r.a.createElement("main",{className:ie.a.main},e.children)))},oe=a(31),se=a.n(oe),ue=function(e){return r.a.createElement("div",{className:se.a.center},r.a.createElement("div",{className:se.a.Loader},r.a.createElement("div",null),r.a.createElement("div",null)))},me=function(e){return function(t){return function(a){function n(){var e,t;Object(k.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(R.a)(this,(e=Object(F.a)(n)).call.apply(e,[this].concat(r)))).state={data:null,loading:!0,error:!1},t}return Object(w.a)(n,a),Object(x.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0,error:!1}),e(this.props).then((function(e){t.setState({data:e,loading:!1})})).catch((function(){t.setState({error:!0,loading:!1})}))}},{key:"render",value:function(){var e=this.state,a=e.data,n=e.loading,c=e.error;return n?r.a.createElement(ue,null):c?r.a.createElement("div",null,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"):r.a.createElement(t,Object.assign({},this.props,{data:a}))}}]),n}(n.Component)}},de=Object(o.d)(f.g,me((function(){return S.getVehicleVariableList()})))((function(e){var t=e.history,a=e.data;return r.a.createElement("ul",null,a.results.map((function(e){return r.a.createElement("li",{key:e.Name,className:"card",onClick:function(){return a=e.ID,void t.push("/variables/"+a);var a}},r.a.createElement("div",{className:"card-name"},e.Name),r.a.createElement("div",{className:"card-description",dangerouslySetInnerHTML:{__html:e.Description}}))})))})),ve=Object(o.d)(f.g,me((function(e){var t=e.match;return S.getVariableVin(t.params.id)})))((function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"card card_no-hover"},r.a.createElement("div",{className:"card-name"},t.Name),r.a.createElement("div",{className:"card-description",dangerouslySetInnerHTML:{__html:t.Description}})):r.a.createElement("div",null,"Not found"))})),he=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"menu"},r.a.createElement("li",null,r.a.createElement(E.b,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/variables"},"Variables")))))},pe=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(R.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(w.a)(t,e),Object(x.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",null,"Something has gone terribly wrong"):this.props.children}}]),t}(n.Component),Ee=function(){return r.a.createElement(pe,null,r.a.createElement(E.a,null,r.a.createElement(he,null),r.a.createElement(le,null,r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,component:re}),r.a.createElement(f.b,{path:"/variables/:id",component:ve}),r.a.createElement(f.b,{path:"/variables",component:de}),r.a.createElement(f.a,{to:"/"})))))};a(78);i.a.render(r.a.createElement(l.a,{store:p},r.a.createElement(Ee,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.ee222286.chunk.js.map