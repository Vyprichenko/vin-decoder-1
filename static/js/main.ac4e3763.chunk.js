(this["webpackJsonpvin-decoder"]=this["webpackJsonpvin-decoder"]||[]).push([[0],{20:function(e,t,n){e.exports={title:"home_title__1Qtpw",searchBar:"home_searchBar__3zqNe",currentVin:"home_currentVin__-qB3_",searchNotFind:"home_searchNotFind__Q8mSb",serverError:"home_serverError__2Em27"}},25:function(e,t,n){e.exports={input:"input_input__LBr-r",invalid:"input_invalid__137A2",errorMessage:"input_errorMessage__2I-2P"}},26:function(e,t,n){e.exports={form:"search-bar_form__223Nv",rootInput:"search-bar_rootInput__uXVAv",input:"search-bar_input__3iuLp"}},30:function(e,t,n){e.exports={layout:"layout_layout__3j9jk",main:"layout_main__2oCrp"}},31:function(e,t,n){e.exports={Loader:"loader_Loader__36l00","lds-ripple":"loader_lds-ripple__2n71Z",center:"loader_center__3R44Z"}},47:function(e,t,n){e.exports={primary:"button_primary__2P7N9"}},48:function(e,t,n){e.exports={title:"last-vins_title__3mczy"}},50:function(e,t,n){e.exports=n(80)},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),i=n.n(c),l=n(24),s=n(8),u=n(45),o=n(19),m=n(5),d={currentVin:null,cache:[],loading:!1,serverError:null,searchNotFind:null};var v=Object(s.c)({vinsSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SEARCH_VIN_START":return Object(m.a)({},e,{loading:!0});case"NOT_FIND_INFORMATION":return Object(m.a)({},e,{currentVin:null,loading:!1,searchNotFind:"Sorry, we could not find information.",serverError:null});case"WRITE_TO_CACHE":return Object(m.a)({},e,{cache:[t.vin].concat(Object(o.a)(Object(o.a)(e.cache).slice(0,4)))});case"SERVER_ERROR":return Object(m.a)({},e,{loading:!1,serverError:t.payload});case"UPDATE_VIN":return Object(m.a)({},e,{currentVin:t.currentVin,loading:!1,searchNotFind:null,serverError:null});case"SET_VIN":return Object(m.a)({},e,{searchNotFind:null,currentVin:t.currentVin,serverError:null});default:return e}}}),h="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.d,p=Object(s.e)(v,h(Object(s.a)(u.a))),E=n(17),f=n(16),b=n(29),_=n.n(b),g=n(46),N=n.n(g).a.create({baseURL:"https://vpic.nhtsa.dot.gov/api/"}),O={},V=function(e){return{status:e.status,message:e.data.Message,results:y(e.data.Results)}},y=function(e){return Object(o.a)(e).filter((function(e){return""!==e.Value&&""!==e.Description&&null!==e.Value&&null!==e.Description}))};O.getVehicleVariableList=function(){return N.get("vehicles/getvehiclevariablelist?format=json").then((function(e){return V(e)})).catch((function(e){return e}))},O.getDecodeVin=function(e){return N.get("vehicles/decodevin/".concat(e,"?format=json")).then((function(e){return V(e)})).catch((function(e){return e}))},O.getVariableVin=function(e){return O.getVehicleVariableList().then((function(t){return t.results.find((function(t){return t.ID===+e}))})).catch((function(e){return e}))};var j=O;function S(e){return function(t,n){var a=n().vinsSearch,r=function(e,t){return t.cache[0]&&t.cache.find((function(t){return e===t.name}))}(e,a);if(r)return t(C(r)),void t(D(r));t(function(e){return function(t){var n,a;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"FETCH_SEARCH_VIN_START"}),r.prev=1,r.next=4,_.a.awrap(j.getDecodeVin(e));case 4:if(!(n=r.sent)||200!==n.status||!n.results){r.next=13;break}if(!n.results.find((function(e){return"Error Code"===e.Variable&&"0"!==e.Value.split()[0]}))){r.next=8;break}return r.abrupt("return",t({type:"NOT_FIND_INFORMATION"}));case 8:a=Object(m.a)({name:e},n),t(C(a)),t(I(a)),r.next=14;break;case 13:throw new Error("Sorry. There was some mistake on the server.");case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(1),t({type:"SERVER_ERROR",payload:r.t0.message});case 19:case"end":return r.stop()}}),null,null,[[1,16]])}}(e))}}function C(e){return{type:"WRITE_TO_CACHE",vin:e}}function I(e){return{type:"UPDATE_VIN",currentVin:e}}function D(e){return{type:"SET_VIN",currentVin:e}}var T=n(11),k=n(12),x=n(14),R=n(13),F=n(15),w=n(18),L=n.n(w),M=function(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),n},A=n(25),H=n.n(A),P=function(e){var t=e.valid,n=e.shouldValidate;return!t&&n},B=function(e){var t=[];return P(e)&&t.push(H.a.invalid),r.a.createElement("div",{className:L()(e.classes.root)},r.a.createElement("input",{className:L()(t,H.a.input,e.classes.input),type:e.type,value:e.value,onChange:e.onChange,maxLength:e.maxlength}),P(e)&&r.a.createElement("span",{className:H.a.errorMessage},e.errorMessage))};B.defaultProps={type:"text",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",maxlength:17};var U=B,X=n(47),q=n.n(X),z=function(e){var t=[q.a[e.type]];return r.a.createElement("button",{onClick:e.onClick,className:L()(t,e.classes),disabled:e.isDisabled},e.children)};z.defaultProps={type:"primary",isDisabled:!1,onClick:function(){}};var J=z,Q=n(26),W=n.n(Q),Z=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(x.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={input:{value:"",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e \u0438\u0437 17 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",valid:!0,validation:{required:!0,minLength:17}}},n.onChange=function(e){var t=Object(m.a)({},n.state.input);t.value=e.target.value,t.valid=!0,n.setState({input:t})},n.onSubmit=function(e){if(e.preventDefault(),M(n.state.input.value,n.state.input.validation)){var t=Object(m.a)({},n.state.input);t.valid=!0,n.setState({input:t}),n.props.onSubmit(e,n.state.input.value)}else{var a=Object(m.a)({},n.state.input);a.valid=!1,n.setState({input:a})}},n}return Object(F.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.classes,a=void 0===n?[]:n;return r.a.createElement("form",{className:L.a.apply(void 0,Object(o.a)(a).concat([W.a.form])),onSubmit:this.onSubmit},r.a.createElement(U,{value:this.state.input.value,valid:this.state.input.valid,shouldValidate:!!this.state.input.validation,errorMessage:this.state.input.errorMessage,onChange:this.onChange,classes:{root:W.a.rootInput,input:W.a.input},placeholder:"vin number"}),r.a.createElement(J,{disabled:t},t?"Decoding...":"Decode"))}}]),t}(r.a.Component),G=function(e){var t=e.list;return r.a.createElement(r.a.Fragment,null,t&&0!==t.length&&r.a.createElement("table",{className:"table-striped"},t.filter((function(e){return null!==e.Value&&""!==e.Value.trim()&&"Error Code"!==e.Variable})).map((function(e){return r.a.createElement("tr",{key:e.Value},r.a.createElement("td",null,e.Variable),r.a.createElement("td",null,e.Value))}))))};G.defaultProps={list:[]};var K=G,Y=n(48),$=n.n(Y),ee=function(e){var t=e.vins,n=e.onClick;return r.a.createElement(r.a.Fragment,null,0!==t.length&&r.a.createElement("div",{className:"last-vins"},r.a.createElement("h4",{className:$.a.title},"Last vins:"),r.a.createElement("ul",{className:"flex-box"},t.map((function(e,a){return r.a.createElement("li",{key:a,className:"flex-item-btn",onClick:function(){return n(t[a])}},e.name)})))))},te=n(20),ne=n.n(te);var ae=Object(l.b)((function(e){return{setVin:e.vinsSearch.setVin,currentVin:e.vinsSearch.currentVin,loading:e.vinsSearch.loading,cache:e.vinsSearch.cache,serverError:e.vinsSearch.serverError,searchNotFind:e.vinsSearch.searchNotFind}}),(function(e){return{onSubmit:function(t,n){return e(S(n))},setVin:function(t){return e(D(t))}}}))((function(e){var t=e.onSubmit,n=e.setVin,a=e.currentVin,c=e.loading,i=e.cache,l=e.serverError,s=e.searchNotFind;return r.a.createElement("div",null,r.a.createElement("h1",{className:ne.a.title},"VIN Decoder"),r.a.createElement(Z,{onSubmit:t,isDisabled:c,classes:[ne.a.searchBar]}),r.a.createElement(ee,{vins:i,onClick:n}),r.a.createElement(r.a.Fragment,null,l?r.a.createElement("div",{className:ne.a.serverError},l):r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:ne.a.currentVin},"Current VIN: ",a.name),r.a.createElement("div",{className:"note"},a.message)),s?r.a.createElement("div",{className:ne.a.searchNotFind},s):r.a.createElement(K,{list:a&&a.results}))))})),re=n(30),ce=n.n(re),ie=function(e){function t(){return Object(T.a)(this,t),Object(x.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:ce.a.layout},r.a.createElement("div",{className:"container"},r.a.createElement("main",{className:ce.a.main},this.props.children)))}}]),t}(a.Component),le=n(31),se=n.n(le),ue=function(e){return r.a.createElement("div",{className:se.a.center},r.a.createElement("div",{className:se.a.Loader},r.a.createElement("div",null),r.a.createElement("div",null)))},oe=function(e){return function(t){return function(n){function a(){var e,t;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(x.a)(this,(e=Object(R.a)(a)).call.apply(e,[this].concat(r)))).state={data:null,loading:!0,error:!1},t}return Object(F.a)(a,n),Object(k.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0,error:!1}),e(this.props).then((function(e){t.setState({data:e,loading:!1})})).catch((function(){t.setState({error:!0,loading:!1})}))}},{key:"render",value:function(){var e=this.state,n=e.data,a=e.loading,c=e.error;return a?r.a.createElement(ue,null):c?r.a.createElement("div",null,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"):r.a.createElement(t,Object.assign({},this.props,{data:n}))}}]),a}(a.Component)}},me=Object(s.d)(f.g,oe((function(){return j.getVehicleVariableList()})))((function(e){var t=e.history,n=e.data;return r.a.createElement("ul",null,n.results.map((function(e){return r.a.createElement("li",{className:"card",onClick:function(){return n=e.ID,void t.push("/variables/"+n);var n}},r.a.createElement("div",{className:"card-name"},e.Name),r.a.createElement("div",{className:"card-description",dangerouslySetInnerHTML:{__html:e.Description}}))})))})),de=Object(s.d)(f.g,oe((function(e){var t=e.match;return j.getVariableVin(t.params.id)})))((function(e){return r.a.createElement(r.a.Fragment,null,e.data?r.a.createElement("div",{className:"card card_no-hover"},r.a.createElement("div",{className:"card-name"},e.data.Name),r.a.createElement("div",{className:"card-description",dangerouslySetInnerHTML:{__html:e.data.Description}})):r.a.createElement("div",null,"Not found"))})),ve=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"menu"},r.a.createElement("li",null,r.a.createElement(E.b,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/variables"},"Variables")))))},he=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(x.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},n}return Object(F.a)(t,e),Object(k.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",null,"Something has gone terribly wrong"):this.props.children}}]),t}(a.Component),pe=function(){return r.a.createElement(he,null,r.a.createElement(E.a,null,r.a.createElement(ve,null),r.a.createElement(ie,null,r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,component:ae}),r.a.createElement(f.b,{path:"/variables/:id",component:de}),r.a.createElement(f.b,{path:"/variables",component:me}),r.a.createElement(f.a,{to:"/"})))))};n(79);i.a.render(r.a.createElement(l.a,{store:p},r.a.createElement(pe,null)),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.ac4e3763.chunk.js.map